(this["webpackJsonpnetflix-clone"]=this["webpackJsonpnetflix-clone"]||[]).push([[0],{25:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(19),o=n.n(r),s=n(3),i=n.n(s),l=n(9),m=n(5),d=n(6),h=n(8),u=n(7),v=(n(25),n(4)),j=n.n(v),b="4fde825d7d9f0ad24797ab37f5e831c2",p={fetchRecommendations:function(e){return"https://api.themoviedb.org/3/movie/".concat(e,"/recommendations?api_key=").concat(b,"&language=en-US&page=1")},fetchMovie:"https://api.themoviedb.org/3/search/movie?api_key=".concat(b,"&language=en-US&page=1&include_adult=false"),fetchTrending:"https://api.themoviedb.org/3/trending/movie/week?api_key=".concat(b)},x=j.a.create({baseURL:p.fetchMovie}),f=n(0),O=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(m.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={term:null},e.onInputChange=function(t){e.setState({term:t.target.value})},e.onFormSubmit=function(t){t.preventDefault(),e.props.onSearch(e.state.term)},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"container pt-5 pb-3 mb-3",children:[Object(f.jsx)("h3",{className:" text-center text-danger",style:{fontFamily:"Playfair Display",fontWeight:"bolder"},children:"Movie? Movie!"}),Object(f.jsx)("p",{className:"mb-5 text-center text-secondary",children:"Enter the movie you have just watched and get recommendtaions based on that"}),Object(f.jsx)("form",{onSubmit:this.onFormSubmit,children:Object(f.jsx)("input",{className:"form-control form-control-lg",placeholder:"Type and Press Enter to Search",type:"text",onChange:this.onInputChange,value:this.state.term})})]})}}]),n}(a.a.Component);function g(e){var t,n,c;return e.movie?Object(f.jsx)("div",{className:"container mt-5 mb-5",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-lg-3",children:Object(f.jsx)("img",{className:"poster",src:"https://image.tmdb.org/t/p/w500".concat(null===(t=e.movie)||void 0===t?void 0:t.poster_path),alt:null===(n=e.movie)||void 0===n?void 0:n.title})}),Object(f.jsxs)("div",{className:"col-lg-9",children:[Object(f.jsx)("h1",{className:"mb-3",children:null===(c=e.movie)||void 0===c?void 0:c.title}),Object(f.jsx)("h5",{className:"mb-3",children:e.movie.overview}),Object(f.jsxs)("h5",{className:"mb-3",children:[Object(f.jsx)("b",{children:"\ud83d\udcc6 Release Date: "}),e.movie.release_date]}),Object(f.jsxs)("h5",{className:"mb-3",children:[Object(f.jsx)("b",{children:"\ud83d\udc4d Popularity: "}),e.movie.popularity]})]})]})}):Object(f.jsx)("div",{})}function y(e){var t=e.recommendations,n=e.onSearch,c=t.map((function(e){return Object(f.jsx)("div",{onClick:function(){var t;t=e.title||e.name,n(t),window.scrollTo({top:0,behavior:"smooth"})},style:{cursor:"pointer"},className:"col-lg-3 col-md-6 mb-5",name:e.title,children:Object(f.jsxs)("div",{className:"card",style:{width:"250px"},children:[Object(f.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(null===e||void 0===e?void 0:e.poster_path),className:"card-img-top ",alt:e.title}),Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("h5",{className:"card-text",children:e.title}),Object(f.jsxs)("h5",{className:"card-text",children:["\ud83c\udf3b ",e.vote_count]})]})]})},e.id)}));return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h3",{className:"mb-5 text-center",children:c.length>0?"Recommendations \u2b07":"Sorry No recommendations for this movie. \ud83d\udc94"}),Object(f.jsx)("div",{class:"container",children:Object(f.jsx)("div",{class:"row",children:c})})]})}var N=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(m.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={movie:null,recommendations:[]},e.componentDidMount=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(p.fetchTrending);case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),e.getRecommendations=function(){var t=Object(l.a)(i.a.mark((function t(n){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("".concat(p.fetchRecommendations(n)));case 3:c=t.sent,e.setState({recommendations:c.data.results}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e.onSearch=function(){var t=Object(l.a)(i.a.mark((function t(n){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.get("&query=".concat(n));case 3:c=t.sent,e.setState({movie:c.data.results[0]}),e.getRecommendations(e.state.movie.id),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(O,{onSearch:this.onSearch}),Object(f.jsx)(g,{movie:this.state.movie}),Object(f.jsx)(y,{recommendations:this.state.recommendations,onSearch:this.onSearch})]})}}]),n}(a.a.Component),w=document.getElementById("root");o.a.render(Object(f.jsx)(c.StrictMode,{children:Object(f.jsx)(N,{})}),w)}},[[45,1,2]]]);
//# sourceMappingURL=main.9c5bd1d8.chunk.js.map